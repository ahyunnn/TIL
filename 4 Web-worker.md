## `Web Worker`

- 웹 브라우저에서 메인 스레드와 별개로 백그라운드 스레드에서 자바스크립트 코드를 실행할 수 있도록 해주는 기능
- 웹 워커를 사용함으로써 웹 앱의 선으을 높이고, UI 반응성을 유지하면서 복잡한 계산이나 데이터 처리 작업을 백그라운드에서 할 수 있음
  
### 주요 특징
1. 멀티 스레딩
	- 자바스크립트는 기본적으로 단일 스레드 > 웹 워커를 사용하면 별도의 스레드에서 작업 수행이 가능
2. 비동기적 실행
	- 메인 스레드와 독립적으로 실행되기 때문에 UI 렌더링과 다른 작업을 동시에 처리 가능
3. DOM 접근 제한
	- DOM을 직접 조작할 수 없음 > 대신 메인 스레드와 메세지를 주고받는 방식으로 데이터를 주고 받음

### 사용 
- CPU를 많이 사용하는 무거운 작업이나 비동기 연산이 필요할 때 유용 (대규모 데이터 처리, 이미지 및 비디오 필터링, 암호화 및 복호화, 복잡한 수학 계산 등)

### 실제 사용
- `react-pdf`를 사용해서 pdf 뷰어를 구현할 때 PDF가 계속 UI상에서 뜨지 않았고 찾아보니 사용하고 있던 `Vite`의 의존성 최적화 방식과 호환되지 않아서 생겼던 문제였음
- `vite.config.js`를 수정하여 해결
  ```js
		import {defineConfig} from "vite";

		export default defineConfig({
			optimizeDeps: {
				exclude: ['pdfjs-dist'] // 의존성 최적화에서 제외
			}
		})
	```
### PDF 뷰어 구현에서의 Web Worker
- 브라우저에서 pdf를 로드하고, 렌더링하는 과정은 매우 복잡하고 계산 집약적인 작업인데, 워커파일을 통해 메인 스레드와 분리해서 처리
  1. 메인 스레드와의 분리	: 텍스트, 이미지, 그래픽 요소 등의 파싱/렌더링 작업이 복잡 > `pdf.worker.js`파일을 통해 웹워커를 실행하여 분리
  2. PDF 파싱 및 처리 : 워커는 이 파싱 작업을 비동기적으로 처리 > 렌더링 속도를 높이고 PDF 파일을 빠르게 처리
  3. UI 반응성 유지 : 작업을 나누어 함으로써 UI 반응성이 유지되어 사용자 경험 개선